/**
 * Nico Pr â€” https://nicopr.fr
 * SLIDER STANDALONE RELEASE v0.2.4
 * 24/01/2025 21:29:57
 */
(function(){
function p(a,b){const f=a.C/(b+1);return Array(b).fill(0).map((d,c)=>q(a,a.o+f*(c+1)))}function t(a){const b=f=>Object.assign(document.createElement("div"),{className:f});[a.m,a.S,a.M]=["rail","line","lbls"].map(b);a.D=Array(Math.max(a.g,a.j.length)).fill(0).map(()=>b("range"));a.G=Array(a.g).fill(0).map(()=>b("val"));[a.O,a.N]=["lbl mn","lbl mx"].map(b);a.S.append(...a.D);a.m.append(a.S);a.M.append(a.O,...a.G,a.N);a.V.append(a.m,a.M)}
function u(a){const b=d=>{var c;if(c=-1!==a.l)a:{c=a.m.getBoundingClientRect();d=(d.clientX-c.left)/c.width;c=q(a,a.L+(d-a.K)*a.C);if(a.J&&0===a.g%2&&a.j.length<a.g){const l=0===a.l%2?a.l+1:a.l-1,e=a.i[l],g=0===a.l%2;if(g?c>e:c<e){a.u[l]=c;a.u[a.l]=e;[a.l,a.L,a.K]=[l,e,d];c=v(a);break a}c=g?Math.min(c,e-a.J):Math.max(c,e+a.J)}a.F||c===a.u[a.l]||(a.F=!0,w(a,"start"));a.u[a.l]=c;v(a);c=void 0}return c},f=d=>{var c;if(c=-1!==a.l)a.m.releasePointerCapture(d.pointerId),[a.l,a.F]=[-1,!1],c=void 0;return c};
a.m.addEventListener("pointerdown",d=>x(a,d));["pointermove","pointerup","pointercancel"].forEach(d=>a.m.addEventListener(d,"pointermove"===d?b:f))}function x(a,b){var f=a.m.getBoundingClientRect();f=(b.clientX-f.left)/f.width;const d=a.o+f*a.C;a.l=a.i.reduce((c,l,e)=>Math.abs(d-a.i[e])<Math.abs(d-a.i[c])?e:c,0);[a.L,a.K]=[a.i[a.l],f];a.F=!1;a.m.setPointerCapture(b.pointerId)}function q(a,b){return Math.max(a.o,Math.min(a.P,a.U*Math.round(b/a.U)))}
function y(a){const b=a.i.map(e=>(e-a.o)/a.C*100),f=a.i.map((e,g)=>({s:e,H:g})).sort((e,g)=>g.s-e.s).map(e=>e.H);if(a.j.length>=a.g)b.forEach((e,g)=>z(a.D[g],0,e,a.j[g],f.indexOf(g)+1));else if(a.j.length===a.g-1){var d=[...a.i].sort((e,g)=>e-g);for(var c=0;c<a.g-1;c++){const [e,g]=[(d[c]-a.o)/a.C*100,(d[c+1]-a.o)/a.C*100];z(a.D[c],e,g-e,a.j[c],c+1)}}else if(0===a.g%2)for(d=0;d<a.g;d+=2){const [e,g]=[b[d],b[d+1]],[h,m]=e<g?[e,g]:[g,e];z(a.D[d/2],h,m-h,a.j[d/2%a.j.length],d/2+1)}else for(d=a.i.map((e,
g)=>({s:e,H:g})).sort((e,g)=>e.s-g.s),c=0;c<d.length-1;c++){const [e,g]=[b[d[c].H],b[d[c+1].H]];z(a.D[c],Math.min(e,g),Math.abs(g-e),a.j[c],c+1)}const l=A(a,b);a.i.forEach((e,g)=>{if(a.j.length>=a.g)var h=g;else a.j.length===a.g-1?(h=[...a.i].map((k,n)=>({s:k,A:n})).sort((k,n)=>k.s-n.s).findIndex(k=>k.A===g),h=Math.min(h,a.j.length-1)):0===a.g%2?h=Math.floor(g/2)%a.j.length:(h=[...(new Set([...a.i].sort((k,n)=>k-n)))],h=Math.min(h.indexOf(e),a.j.length-1));const m=a.G[g];m.innerText=a.T(e);B(a,m,
l[g],a.j[h],f.indexOf(g)+a.g+1)});[a.O.innerText,a.N.innerText]=[a.o,a.P].map(e=>a.T(e))}
function A(a,b){const f=a.m.offsetWidth,d=b.map((h,m)=>({Y:h,h:h/100*f,A:m,R:a.G[m].offsetWidth,v:a.G[m].offsetWidth/2})).sort((h,m)=>h.h-m.h),c=[...b],l=(h,m)=>{const k=m?h.v:f-h.v,n=m?1:-1;h.h=k;c[h.A]=k/f*100;d.filter(r=>r!==h&&Math.abs(r.h-h.h)<h.R+4).forEach((r,H)=>{r.h=k+6*(H+1)*n;c[r.A]=r.h/f*100})};d.filter(h=>h.h<h.v).forEach(h=>l(h,!0));d.filter(h=>h.h>f-h.v).forEach(h=>l(h,!1));for(let h=0,m=!0;m&&50>h;h++)for(m=!1,b=0;b<d.length-1;b++){const [k,n]=[d[b],d[b+1]];var e=(k.R+n.R)/2+4,g=n.h-
k.h;g<e&&(m=!0,e=(e-g)/2,g=Math.min(e,f-n.v-n.h),k.h-=Math.min(e,k.h-k.v),n.h+=g,c[k.A]=k.h/f*100,c[n.A]=n.h/f*100)}return c}function z(a,b,f,d,c){Object.assign(a.style,{left:b+"%",width:f+"%",backgroundColor:d,zIndex:c})}function B(a,b,f,d,c){const [l,e]=[a.m.offsetWidth,b.offsetWidth];a=f/100*l;const g=e/2;let h=-50;a<g?h=-(a/g*50):a>l-g&&(h=-100+(l-a)/g*50);Object.assign(b.style,{left:f+"%",color:d,zIndex:c,transform:`translateX(${h}%)`})}
function v(a){if(!a.B){var b=()=>{let [f,d]=[!1,!1];a.i.forEach((c,l)=>{const e=a.u[l];if(c!==e){const g=e-c;.01>Math.abs(g)?(a.i[l]=e,d=!0):(a.i[l]=c+.2*g,f=!0)}});f||d?(y(a),w(a,"slide"),f?a.B=requestAnimationFrame(b):(a.B=null,w(a,"change"),a.F=!1)):a.B=null};a.B=requestAnimationFrame(b)}}function w(a,b){a.I.dispatchEvent(new CustomEvent(b,{detail:a.values}))}
class C{constructor(a,b={}){b={min:0,max:100,stp:1,num:1,col:"#4A90E2",fmt:f=>f.toFixed(0),val:null,rng:0,...b};this.m=this.S=this.D=this.M=this.O=this.N=this.G=this.B=null;this.K=this.L=0;[this.o,this.P,this.U,this.C]=[b.min,b.max,b.stp,b.max-b.min];[this.T,this.j,this.J]=[b.fmt,[b.col].flat(),b.rng];[this.l,this.F]=[-1,!1];this.B=null;b=b.val?[b.val].flat():p(this,b.num);this.g=b.length;this.i=Array(this.g).fill(0);this.u=Array(this.g).fill(0);this.V=a;this.V.classList.add("slider");t(this);u(this);
this.values=b;this.I=new D}get values(){const a=this.i.map(f=>q(this,f));if(1===this.g)return a[0];if(this.j.length>=this.g)return a;if(this.j.length===this.g-1){const f=[...a].sort((d,c)=>d-c);return Array(f.length-1).fill(0).map((d,c)=>[f[c],f[c+1]])}if(0===this.g%2){const f=[];for(let d=0;d<a.length;d+=2)f.push([a[d],a[d+1]].sort((c,l)=>c-l));return 1===f.length?f[0]:f}const b=[...a].sort((f,d)=>f-d);return Array(b.length-1).fill(0).map((f,d)=>[b[d],b[d+1]])}set values(a){a=Array.isArray(a)?Array.isArray(a[0])?
a.flat():a:[a];if(a.length!==this.g)throw Error(this.g+" values expected");this.i=a.map(b=>Math.max(this.o,Math.min(this.P,+b)));this.u=[...this.i];y(this)}X(a,b){this.I.addEventListener(a,b)}W(a,b){this.I.removeEventListener(a,b)}}var E=C,F=["Slider"],G=this||self;F[0]in G||"undefined"==typeof G.execScript||G.execScript("var "+F[0]);for(var I;F.length&&(I=F.shift());)F.length||void 0===E?G[I]&&G[I]!==Object.prototype[I]?G=G[I]:G=G[I]={}:G[I]=E;C.prototype.off=C.prototype.W;C.prototype.on=C.prototype.X;
var D=self.EventTarget;}).call(this);
