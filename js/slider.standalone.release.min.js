/**
 * Nico Pr â€” https://nicopr.fr
 * SLIDER STANDALONE RELEASE v0.3.6
 * 11/05/2025 02:43:22
 */
(function(){
function q(a,b){const e=a.C/(b+1);return Array(b).fill(0).map((f,c)=>r(a,a.o+e*(c+1)))}function t(a){const b=e=>Object.assign(document.createElement("div"),{className:e});[a.V,a.S,a.O,a.R,a.P]=["track","vals","lbls","",""].map(b);a.D=Array(Math.max(a.g,a.m.length)).fill(0).map(()=>b("range"));a.G=Array(a.g).fill(0).map(()=>b("val"));a.S.append(...a.G);a.j.append(a.S);a.V.append(...a.D);a.j.append(a.V);a.O.append(a.R,a.P);a.j.append(a.O);a.R.innerText=a.I(a.o);a.P.innerText=a.I(a.T)}
function u(a){const b=f=>{var c;if(c=-1!==a.l)a:{c=a.j.getBoundingClientRect();f=(f.clientX-c.left)/c.width;c=r(a,a.M+(f-a.L)*a.C);if(a.K&&0===a.g%2&&a.m.length<a.g){const h=0===a.l%2?a.l+1:a.l-1,k=a.i[h],g=0===a.l%2;if(g?c>k:c<k){a.u[h]=c;a.u[a.l]=k;[a.l,a.M,a.L]=[h,k,f];c=v(a);break a}c=g?Math.min(c,k-a.K):Math.max(c,k+a.K)}a.F||c===a.u[a.l]||(a.F=!0,w(a,"start"));a.u[a.l]=c;v(a);c=void 0}return c},e=f=>{var c;if(c=-1!==a.l)a.j.releasePointerCapture(f.pointerId),[a.l,a.F]=[-1,!1],a.j.classList.toggle("sliding",
!1),c=void 0;return c};a.j.addEventListener("pointerdown",f=>x(a,f));["pointermove","pointerup","pointercancel"].forEach(f=>a.j.addEventListener(f,"pointermove"===f?b:e))}function x(a,b){var e=a.j.getBoundingClientRect();e=(b.clientX-e.left)/e.width;const f=a.o+e*a.C;a.l=a.i.reduce((c,h,k)=>Math.abs(f-a.i[k])<Math.abs(f-a.i[c])?k:c,0);[a.M,a.L]=[a.i[a.l],e];a.F=!1;a.j.classList.toggle("sliding",!0);a.j.setPointerCapture(b.pointerId)}
function r(a,b){return Math.max(a.o,Math.min(a.T,+parseFloat(a.N*Math.round(b/a.N)).toFixed(a.W)))}
function y(a){const b=a.i.map(g=>(g-a.o)/a.C*100),e=a.m.length,f=a.i.map((g,d)=>({s:g,H:d})).sort((g,d)=>d.s-g.s).map(g=>g.H);if(e>=a.g)b.forEach((g,d)=>z(a.D[d],0,g,a.m[d],f.indexOf(d)+1));else if(e===a.g-1){var c=[...a.i].sort((g,d)=>g-d);for(var h=0;h<a.g-1;h++){const [g,d]=[(c[h]-a.o)/a.C*100,(c[h+1]-a.o)/a.C*100];z(a.D[h],g,d-g,a.m[h],h+1)}}else if(0===a.g%2)for(c=0;c<a.g;c+=2){const [g,d]=[b[c],b[c+1]],[l,n]=g<d?[g,d]:[d,g];z(a.D[c/2],l,n-l,a.m[c/2%e],c/2+1)}else for(c=a.i.map((g,d)=>({s:g,
H:d})).sort((g,d)=>g.s-d.s),h=0;h<c.length-1;h++){const [g,d]=[b[c[h].H],b[c[h+1].H]];z(a.D[h],Math.min(g,d),Math.abs(d-g),a.m[h],h+1)}const k=A(a,b);a.i.forEach((g,d)=>{if(e>=a.g)var l=d;else e===a.g-1?(l=[...a.i].map((m,p)=>({s:m,A:p})).sort((m,p)=>m.s-p.s).findIndex(m=>m.A===d),l=Math.min(l,e-1)):0===a.g%2?l=Math.floor(d/2)%e:(l=[...(new Set([...a.i].sort((m,p)=>m-p)))],l=Math.min(l.indexOf(g),e-1));const n=a.G[d];n.innerText=a.I(r(a,g));B(a,n,k[d],a.m[l])})}
function A(a,b){const e=a.j.offsetWidth,f=b.map((d,l)=>({Z:d,h:d/100*e,A:l,U:a.G[l].offsetWidth,v:a.G[l].offsetWidth/2})).sort((d,l)=>d.h-l.h),c=[...b],h=(d,l)=>{const n=l?d.v:e-d.v,m=l?1:-1;d.h=n;c[d.A]=n/e*100;f.filter(p=>p!==d&&Math.abs(p.h-d.h)<d.U+4).forEach((p,H)=>{p.h=n+6*(H+1)*m;c[p.A]=p.h/e*100})};f.filter(d=>d.h<d.v).forEach(d=>h(d,!0));f.filter(d=>d.h>e-d.v).forEach(d=>h(d,!1));for(let d=0,l=!0;l&&50>d;d++)for(l=!1,b=0;b<f.length-1;b++){const [n,m]=[f[b],f[b+1]];var k=(n.U+m.U)/2+4,g=m.h-
n.h;g<k&&(l=!0,k=(k-g)/2,g=Math.min(k,e-m.v-m.h),n.h-=Math.min(k,n.h-n.v),m.h+=g,c[n.A]=n.h/e*100,c[m.A]=m.h/e*100)}return c}function z(a,b,e,f,c){Object.assign(a.style,{left:b+"%",width:e+"%",backgroundColor:f,zIndex:c})}function B(a,b,e,f){const [c,h]=[a.j.offsetWidth,b.offsetWidth];a=e/100*c;const k=h/2;let g=-50;a<k?g=-(a/k*50):a>c-k&&(g=-100+(c-a)/k*50);Object.assign(b.style,{left:e+"%",color:f,transform:`translateX(${g}%)`})}
function v(a){if(!a.B){var b=()=>{let [e,f]=[!1,!1];const c=a.N/10;a.i.forEach((h,k)=>{const g=a.u[k];if(h!==g){const d=g-h;Math.abs(d)<c?(a.i[k]=g,f=!0):(a.i[k]=h+.2*d,e=!0)}});e||f?(y(a),w(a,"slide"),e?a.B=requestAnimationFrame(b):(a.B=null,w(a,"change"),a.F=!1)):a.B=null};a.B=requestAnimationFrame(b)}}function w(a,b){a.J.dispatchEvent(new CustomEvent(b,{detail:a.values}))}
class C{constructor(a,b={}){this.W=String(b.stp||"").includes(".")?String(b.stp).split(".")[1].length:0;b={min:0,max:100,stp:1,num:1,col:"#4A90E2",fmt:f=>f.toFixed(this.W),val:null,rng:0,...b};this.V=this.D=this.S=this.O=this.R=this.P=this.G=this.B=null;this.L=this.M=0;this.N=b.stp;this.C=b.max-b.min;this.I=b.fmt;this.m=[b.col].flat();this.K=b.rng;this.l=-1;this.F=!1;this.B=null;const e=b.val?[b.val].flat():q(this,b.num);this.g=e.length;this.i=Array(this.g).fill(0);this.u=Array(this.g).fill(0);this.o=
b.min;this.T=b.max;this.j=a;"string"===typeof a&&(this.j=document.querySelector(a));this.j.classList.add("slider");this.j.tabIndex=0;t(this);u(this);this.values=e;this.J=new D}get values(){const a=this.i.map(e=>r(this,e));if(1===this.g)return a[0];if(this.m.length>=this.g)return a;if(this.m.length===this.g-1){const e=[...a].sort((f,c)=>f-c);return Array(e.length-1).fill(0).map((f,c)=>[e[c],e[c+1]])}if(0===this.g%2){const e=[];for(let f=0;f<a.length;f+=2)e.push([a[f],a[f+1]].sort((c,h)=>c-h));return 1===
e.length?e[0]:e}const b=[...a].sort((e,f)=>e-f);return Array(b.length-1).fill(0).map((e,f)=>[b[f],b[f+1]])}set values(a){a=[a].flat().map(b=>Array.isArray(b)?b:[b]).flat();if(a.length!==this.g)throw Error(this.g+" values expected");this.i=a.map(b=>Math.max(this.o,Math.min(this.T,+b)));this.u=[...this.i];y(this)}get colors(){return this.m}set colors(a){this.m=a;y(this)}Y(a,b){this.J.addEventListener(a,b);return this}X(a,b){this.J.removeEventListener(a,b)}}var E=C,F=["Slider"],G=this||self;
F[0]in G||"undefined"==typeof G.execScript||G.execScript("var "+F[0]);for(var I;F.length&&(I=F.shift());)F.length||void 0===E?G[I]&&G[I]!==Object.prototype[I]?G=G[I]:G=G[I]={}:G[I]=E;C.prototype.off=C.prototype.X;C.prototype.on=C.prototype.Y;var D=self.EventTarget;}).call(this);
