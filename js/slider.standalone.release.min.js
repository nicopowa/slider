/**
 * Nico Pr â€” https://nicopr.fr
 * SLIDER STANDALONE RELEASE v0.1.6
 * 21/01/2025 23:05:03
 */
(function(){
var q=this||self;function r(a,b){a=a.split(".");var c=q;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var f;a.length&&(f=a.shift());)a.length||void 0===b?c[f]&&c[f]!==Object.prototype[f]?c=c[f]:c=c[f]={}:c[f]=b};r("DEBUG",!1);r("STAND",!1);function t(a,b){const c=a.F/(b+1);return Array(b).fill(0).map((f,e)=>u(a,a.u+c*(e+1)))}function v(a){const b=c=>Object.assign(document.createElement("div"),{className:c});[a.m,a.I,a.O]=["rail","line","lbls"].map(b);a.B=Array(Math.max(a.h,a.l.length)).fill(0).map(()=>b("range"));a.C=Array(a.h).fill(0).map(()=>b("val"));[a.R,a.P]=["lbl mn","lbl mx"].map(b);a.I.append(...a.B);a.m.append(a.I);a.O.append(a.R,...a.C,a.P);a.U.append(a.m,a.O)}
function w(a){const b=f=>{var e;if(e=-1!==a.i)a:{e=a.m.getBoundingClientRect();f=(f.clientX-e.left)/e.width;e=u(a,a.N+(f-a.M)*a.F);if(a.L&&0===a.h%2&&a.l.length<a.h){const k=0===a.i%2?a.i+1:a.i-1,d=a.j[k],g=0===a.i%2;if(g?e>d:e<d){a.v[k]=e;a.v[a.i]=d;[a.i,a.N,a.M]=[k,d,f];e=x(a);break a}e=g?Math.min(e,d-a.L):Math.max(e,d+a.L)}a.A||e===a.v[a.i]||(a.A=!0,y(a,"start"));a.v[a.i]=e;x(a);e=void 0}return e},c=f=>{var e;if(e=-1!==a.i)a.m.releasePointerCapture(f.pointerId),[a.i,a.A]=[-1,!1],e=void 0;return e};
a.m.addEventListener("pointerdown",f=>z(a,f));["pointermove","pointerup","pointercancel"].forEach(f=>a.m.addEventListener(f,"pointermove"===f?b:c))}function z(a,b){var c=a.m.getBoundingClientRect();c=(b.clientX-c.left)/c.width;const f=a.u+c*a.F;a.i=a.j.reduce((e,k,d)=>Math.abs(f-a.j[d])<Math.abs(f-a.j[e])?d:e,0);[a.N,a.M]=[a.j[a.i],c];a.A=!1;a.m.setPointerCapture(b.pointerId)}function u(a,b){return Math.max(a.u,Math.min(a.K,a.T*Math.round(b/a.T)))}
function A(a){const b=a.j.map(d=>(d-a.u)/a.F*100),c=a.j.map((d,g)=>({D:d,G:g})).sort((d,g)=>g.D-d.D).map(d=>d.G),f=new Set;if(-1!==a.i){const d=b[a.i];b.forEach((g,h)=>h!==a.i&&4>Math.abs(g-d)&&f.add(h))}if(a.l.length>=a.h)b.forEach((d,g)=>B(a.B[g],0,d,a.l[g],c.indexOf(g)+1));else if(0===a.h%2)for(var e=0;e<a.h;e+=2){const [d,g]=[b[e],b[e+1]],[h,l]=d<g?[d,g]:[g,d];B(a.B[e/2],h,l-h,a.l[e/2%a.l.length],e/2+1)}else{e=a.j.map((d,g)=>({D:d,G:g})).sort((d,g)=>d.D-g.D);for(let d=0;d<e.length-1;d++){const [g,
h]=[b[e[d].G],b[e[d+1].G]];B(a.B[d],Math.min(g,h),Math.abs(h-g),a.l[d],d+1)}}const k=C(a,b);a.j.forEach((d,g)=>{let h=a.l.length>=a.h?g:0===a.h%2?Math.floor(g/2)%a.l.length:Math.min([...a.j].sort((m,n)=>m-n).indexOf(d),a.l.length-1);const l=a.C[g];l.textContent=a.S(d);l.classList.toggle("lift",f.has(g));D(a,l,k[g],a.l[h],c.indexOf(g)+a.h+1)});[a.R.textContent,a.P.textContent]=[a.u,a.K].map(d=>a.S(d))}
function C(a,b){const c=a.m.offsetWidth,f=b.map((h,l)=>({X:h,g:h/100*c,H:l,width:a.C[l].offsetWidth,o:a.C[l].offsetWidth/2})).sort((h,l)=>h.g-l.g),e=[...b],k=(h,l)=>{const m=l?h.o:c-h.o,n=l?1:-1;h.g=m;e[h.H]=m/c*100;f.filter(p=>p!==h&&Math.abs(p.g-h.g)<h.width+4).forEach((p,F)=>{p.g=m+6*(F+1)*n;e[p.H]=p.g/c*100})};f.filter(h=>h.g<h.o).forEach(h=>k(h,!0));f.filter(h=>h.g>c-h.o).forEach(h=>k(h,!1));for(let h=0,l=!0;l&&50>h;h++)for(l=!1,b=0;b<f.length-1;b++){const [m,n]=[f[b],f[b+1]];var d=(m.width+
n.width)/2+4,g=n.g-m.g;g<d&&(l=!0,d=(d-g)/2,g=Math.min(d,c-n.o-n.g),m.g-=Math.min(d,m.g-m.o),n.g+=g,e[m.H]=m.g/c*100,e[n.H]=n.g/c*100)}return e}function B(a,b,c,f,e){Object.assign(a.style,{left:b+"%",width:c+"%",backgroundColor:f,zIndex:e})}function D(a,b,c,f,e){const [k,d]=[a.m.offsetWidth,b.offsetWidth];a=c/100*k;const g=d/2;let h=-50;a<g?h=-(a/g*50):a>k-g&&(h=-100+(k-a)/g*50);Object.assign(b.style,{left:c+"%",color:f,zIndex:e,transform:`translateX(${h}%)`})}
function x(a){if(!a.s){var b=()=>{let [c,f]=[!1,!1];a.j.forEach((e,k)=>{const d=a.v[k];if(e!==d){const g=d-e;.01>Math.abs(g)?(a.j[k]=d,f=!0):(a.j[k]=e+.2*g,c=!0)}});c||f?(A(a),y(a,"slide"),c?a.s=requestAnimationFrame(b):(a.s=null,y(a,"change"),a.A=!1)):a.s=null};a.s=requestAnimationFrame(b)}}function y(a,b){a.J.dispatchEvent(new CustomEvent(b,{detail:a.values}))}
class E{constructor(a,b={}){b={min:0,max:100,stp:1,num:1,col:"#4A90E2",fmt:c=>c.toFixed(0),val:null,rng:0,...b};this.m=this.I=this.B=this.O=this.R=this.P=this.C=this.s=null;this.M=this.N=0;[this.u,this.K,this.T,this.F]=[b.min,b.max,b.stp,b.max-b.min];[this.S,this.l,this.L]=[b.fmt,[b.col].flat(),b.rng];[this.i,this.A]=[-1,!1];this.s=null;b=b.val?[b.val].flat():t(this,b.num);this.h=b.length;this.j=Array(this.h).fill(0);this.v=Array(this.h).fill(0);this.U=a;this.U.classList.add("slider");v(this);w(this);
this.values=b;this.J=new G}get values(){const a=this.j.map(c=>u(this,c));if(1===this.h)return a[0];if(this.l.length>=this.h)return a;if(0===this.h%2){const c=[];for(let f=0;f<a.length;f+=2)c.push([a[f],a[f+1]].sort((e,k)=>e-k));return 1===c.length?c[0]:c}const b=[...a].sort((c,f)=>c-f);return Array(b.length-1).fill(0).map((c,f)=>[b[f],b[f+1]])}set values(a){a=Array.isArray(a)?Array.isArray(a[0])?a.flat():a:[a];if(a.length!==this.h)throw Error(this.h+" values expected");this.j=a.map(b=>Math.max(this.u,
Math.min(this.K,+b)));this.v=[...this.j];A(this)}W(a,b){this.J.addEventListener(a,b)}V(a,b){this.J.removeEventListener(a,b)}}r("Slider",E);E.prototype.off=E.prototype.V;E.prototype.on=E.prototype.W;var G=self.EventTarget;}).call(this);
